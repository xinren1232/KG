# å›¾è°±å¯è§†åŒ–å¿«é€Ÿä¿®å¤å‚è€ƒå¡

## ğŸ¯ é—®é¢˜è¯Šæ–­

| ç—‡çŠ¶ | åŸå›  | ä½ç½® |
|------|------|------|
| èŠ‚ç‚¹å…¨æ˜¯ç°è‰² | `itemStyle.color` æœªä½¿ç”¨ `getCategoryColor()` | ç¬¬392è¡Œ |
| çœ‹ä¸åˆ°æ ‡ç­¾ | `label.show` ä¸º `false` | ç¬¬399è¡Œ |
| å›¾ä¾‹ç¼ºå¤± | `legend.data` ä¸ºç©º | ç¬¬323è¡Œ |
| èŠ‚ç‚¹å¤§å°ç›¸åŒ | `symbolSize` å›ºå®šå€¼ | ç¬¬390è¡Œ |
| å¸ƒå±€åˆ†æ•£ | `force` å‚æ•°ä¸å½“ | ç¬¬445è¡Œ |

## ğŸ”§ å¿«é€Ÿä¿®å¤å‘½ä»¤

### æœ€ç®€å•æ–¹æ³•ï¼ˆæ¨èï¼‰
```bash
# 1. æœ¬åœ°ä¸Šä¼ æ–‡ä»¶
scp "d:\KG\apps\web\src\views\GraphVisualization.vue" root@47.97.161.175:/root/KG/apps/web/src/views/

# 2. SSHè¿æ¥
ssh root@47.97.161.175

# 3. é‡æ–°æ„å»º
cd /root/KG/apps/web && npm run build && systemctl restart kg-frontend
```

## ğŸ“ å…³é”®é…ç½®æ£€æŸ¥æ¸…å•

### âœ… å¿…é¡»æœ‰çš„é…ç½®

#### 1. é¢œè‰²æ˜ å°„ï¼ˆç¬¬209-221è¡Œï¼‰
```javascript
const categoryColors = {
  'Symptom': '#E74C3C',
  'Component': '#3498DB',
  'Tool': '#2ECC71',
  'Process': '#F39C12',
  'TestCase': '#9B59B6',
  'Metric': '#1ABC9C',
  'Role': '#E67E22',
  'Material': '#34495E',
  'Product': '#E91E63',
  'Anomaly': '#C0392B'
}
```

#### 2. åˆ†ç±»æ•°æ®ï¼ˆç¬¬301-306è¡Œï¼‰
```javascript
const categories = [...new Set(nodes.map(n => n.category))].map(cat => ({
  name: cat,
  itemStyle: { color: getCategoryColor(cat) }
}))
```

#### 3. èŠ‚ç‚¹é¢œè‰²ï¼ˆç¬¬392è¡Œï¼‰
```javascript
itemStyle: {
  color: getCategoryColor(node.category),  // ğŸ”´ å…³é”®ï¼
  // ...
}
```

#### 4. æ ‡ç­¾æ˜¾ç¤ºï¼ˆç¬¬399è¡Œï¼‰
```javascript
label: {
  show: true,  // ğŸ”´ å…³é”®ï¼
  // ...
}
```

#### 5. å›¾ä¾‹æ•°æ®ï¼ˆç¬¬323è¡Œï¼‰
```javascript
legend: [{
  data: categories.map(c => c.name),  // ğŸ”´ å…³é”®ï¼
  // ...
}]
```

## ğŸš€ ä¸€é”®ä¿®å¤è„šæœ¬

### æœåŠ¡å™¨ç«¯æ‰§è¡Œ
```bash
#!/bin/bash
cd /root/KG/apps/web/src/views
cp GraphVisualization.vue GraphVisualization.vue.backup
# ä¸Šä¼ æ–°æ–‡ä»¶åæ‰§è¡Œï¼š
cd /root/KG/apps/web
npm run build
systemctl restart kg-frontend
```

## ğŸ” éªŒè¯æ­¥éª¤

### 1. æœåŠ¡æ£€æŸ¥
```bash
systemctl status kg-frontend  # åº”è¯¥æ˜¯ active (running)
netstat -tuln | grep 5173     # åº”è¯¥æ˜¾ç¤ºç›‘å¬
```

### 2. é¡µé¢æ£€æŸ¥
è®¿é—®: http://47.97.161.175:5173

### 3. è§†è§‰æ£€æŸ¥
- [ ] èŠ‚ç‚¹æœ‰é¢œè‰²ï¼ˆçº¢ã€è“ã€ç»¿ã€æ©™ã€ç´«ç­‰ï¼‰
- [ ] å¤§èŠ‚ç‚¹æœ‰æ ‡ç­¾
- [ ] å³ä¾§æœ‰å›¾ä¾‹
- [ ] èŠ‚ç‚¹å¤§å°ä¸åŒ
- [ ] æ‚¬åœæœ‰æç¤º

## ğŸ› å¸¸è§é”™è¯¯

### é”™è¯¯1ï¼šé¢œè‰²å‡½æ•°æœªå®šä¹‰
```javascript
// âŒ é”™è¯¯
itemStyle: { color: '#999' }

// âœ… æ­£ç¡®
itemStyle: { color: getCategoryColor(node.category) }
```

### é”™è¯¯2ï¼šåˆ†ç±»ç´¢å¼•é”™è¯¯
```javascript
// âŒ é”™è¯¯
category: node.category

// âœ… æ­£ç¡®
category: categories.findIndex(c => c.name === node.category)
```

### é”™è¯¯3ï¼šæ ‡ç­¾ä¸æ˜¾ç¤º
```javascript
// âŒ é”™è¯¯
label: { show: false }

// âœ… æ­£ç¡®
label: { show: true }
```

## ğŸ“Š é…ç½®å‚æ•°é€ŸæŸ¥

### èŠ‚ç‚¹å¤§å°
```javascript
symbolSize: calculateNodeSize(node.id)
// èŒƒå›´: 8-50pxï¼ŒåŸºäºè¿æ¥æ•°
```

### åŠ›å¯¼å‘å‚æ•°
```javascript
force: {
  repulsion: 300,        // æ–¥åŠ›
  gravity: 0.1,          // é‡åŠ›
  edgeLength: [30, 100], // è¾¹é•¿
  friction: 0.6          // æ‘©æ“¦åŠ›
}
```

### æ ‡ç­¾æ˜¾ç¤ºæ¡ä»¶
```javascript
if (params.data.symbolSize > 15) {
  // åªæ˜¾ç¤ºå¤§èŠ‚ç‚¹çš„æ ‡ç­¾
}
```

## ğŸ¨ é¢œè‰²æ–¹æ¡ˆ

| åˆ†ç±» | é¢œè‰² | ç”¨é€” |
|------|------|------|
| Symptom | #E74C3C (çº¢) | ç—‡çŠ¶/é—®é¢˜ |
| Component | #3498DB (è“) | ç»„ä»¶ |
| Tool | #2ECC71 (ç»¿) | å·¥å…· |
| Process | #F39C12 (æ©™) | æµç¨‹ |
| TestCase | #9B59B6 (ç´«) | æµ‹è¯•ç”¨ä¾‹ |
| Metric | #1ABC9C (é’) | æŒ‡æ ‡ |
| Role | #E67E22 (æ·±æ©™) | è§’è‰² |
| Material | #34495E (ç°è“) | ææ–™ |
| Product | #E91E63 (ç²‰) | äº§å“ |
| Anomaly | #C0392B (æš—çº¢) | å¼‚å¸¸ |

## ğŸ“ æ–‡ä»¶ä½ç½®

| ä½ç½® | è·¯å¾„ |
|------|------|
| æœ¬åœ° | `d:\KG\apps\web\src\views\GraphVisualization.vue` |
| æœåŠ¡å™¨ | `/root/KG/apps/web/src/views/GraphVisualization.vue` |
| æ„å»ºè¾“å‡º | `/root/KG/apps/web/dist/` |

## ğŸ”„ å›æ»šå‘½ä»¤

```bash
cd /root/KG/apps/web/src/views
cp GraphVisualization.vue.backup GraphVisualization.vue
cd /root/KG/apps/web
npm run build
systemctl restart kg-frontend
```

## ğŸ“ æ•…éšœæ’æŸ¥

### æ„å»ºå¤±è´¥
```bash
cd /root/KG/apps/web
rm -rf node_modules package-lock.json
npm install
npm run build
```

### æœåŠ¡æ— æ³•å¯åŠ¨
```bash
journalctl -u kg-frontend -n 50 --no-pager
```

### é¡µé¢ç©ºç™½
```bash
ls -la /root/KG/apps/web/dist/
systemctl restart nginx
```

## â±ï¸ é¢„è®¡æ—¶é—´

- æ–‡ä»¶ä¸Šä¼ : 1åˆ†é’Ÿ
- æ„å»º: 2-3åˆ†é’Ÿ
- é‡å¯æœåŠ¡: 10ç§’
- **æ€»è®¡: çº¦5åˆ†é’Ÿ**

## âœ¨ é¢„æœŸæ•ˆæœ

ä¿®å¤ååº”è¯¥çœ‹åˆ°ï¼š
- ğŸ¨ 10ç§é¢œè‰²çš„èŠ‚ç‚¹
- ğŸ·ï¸ æ¸…æ™°çš„èŠ‚ç‚¹æ ‡ç­¾
- ğŸ“Š å®Œæ•´çš„åˆ†ç±»å›¾ä¾‹
- ğŸ“ åŠ¨æ€çš„èŠ‚ç‚¹å¤§å°
- ğŸ¯ ç´§å‡‘çš„å¸ƒå±€

---

**æç¤º**: å¦‚æœ5åˆ†é’Ÿå†…æ— æ³•è§£å†³ï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š
- `å›¾è°±å¯è§†åŒ–ä¿®å¤æŒ‡å—.md`
- `å›¾è°±å¯è§†åŒ–é…ç½®å¯¹æ¯”.md`
- `æ‰‹åŠ¨ä¿®å¤æ­¥éª¤è¯¦è§£.md`

