[Unit]
Description=LangBot IM Integration Service
After=network.target
Documentation=https://docs.dify.ai/zh-hans/learn-more/use-cases/connect-dify-to-various-im-platforms-by-using-langbot

[Service]
Type=simple
User=root
WorkingDirectory=/opt/langbot
Environment="PATH=/usr/local/bin:/usr/bin:/bin"
EnvironmentFile=/opt/langbot/.env

# 直接运行Python应用
ExecStart=/usr/bin/python3 /opt/langbot/app.py

# 重启策略
Restart=always
RestartSec=10

# 日志输出
StandardOutput=append:/var/log/langbot/systemd.log
StandardError=append:/var/log/langbot/systemd-error.log

# 资源限制
LimitNOFILE=65536
LimitNPROC=65536

# 超时设置
TimeoutStartSec=30
TimeoutStopSec=10

[Install]
WantedBy=multi-user.target

