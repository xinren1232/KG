# ğŸš€ çŸ¥è¯†å›¾è°±ç³»ç»Ÿ - å¿«é€Ÿå‚è€ƒ

## ğŸ“ è®¿é—®åœ°å€

| æœåŠ¡ | URL |
|------|-----|
| **å‰ç«¯åº”ç”¨** | http://47.108.152.16/ |
| **APIæ–‡æ¡£** | http://47.108.152.16/api/docs |
| **Neo4jæµè§ˆå™¨** | http://47.108.152.16/neo4j/ |

## ğŸ” ç™»å½•ä¿¡æ¯

**Neo4j**:
- ç”¨æˆ·å: `neo4j`
- å¯†ç : `password123`

**æœåŠ¡å™¨SSH**:
- IP: `47.108.152.16`
- ç”¨æˆ·: `root`

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
systemctl status neo4j
systemctl status redis-server
systemctl status kg-api
systemctl status nginx
```

### é‡å¯æœåŠ¡
```bash
systemctl restart kg-api
systemctl restart neo4j
systemctl restart redis-server
```

### æŸ¥çœ‹æ—¥å¿—
```bash
# APIæ—¥å¿—
tail -f /var/log/kg-api.log
journalctl -u kg-api -f

# å‰ç«¯æ—¥å¿—
tail -f /var/log/kg-frontend.log

# Neo4jæ—¥å¿—
tail -f /var/log/neo4j/neo4j.log
```

### é‡å¯å‰ç«¯
```bash
pkill -f 'vite.*5173'
cd /opt/knowledge-graph/apps/web
nohup npm run dev > /var/log/kg-frontend.log 2>&1 &
```

## ğŸ“Š å¥åº·æ£€æŸ¥

```bash
# APIå¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# Neo4jæ£€æŸ¥
curl http://localhost:7474/

# Redisæ£€æŸ¥
redis-cli ping
```

## ğŸ“ é‡è¦è·¯å¾„

| è·¯å¾„ | è¯´æ˜ |
|------|------|
| `/opt/knowledge-graph/` | é¡¹ç›®æ ¹ç›®å½• |
| `/opt/knowledge-graph/api/` | APIæœåŠ¡ä»£ç  |
| `/opt/knowledge-graph/apps/web/` | å‰ç«¯ä»£ç  |
| `/opt/knowledge-graph/.env` | ç¯å¢ƒå˜é‡é…ç½® |
| `/etc/systemd/system/kg-api.service` | APIæœåŠ¡é…ç½® |
| `/var/log/kg-*.log` | åº”ç”¨æ—¥å¿— |

## âœ… æœåŠ¡éªŒè¯

æ‰€æœ‰æœåŠ¡åº”è¯¥è¿”å› `active`:
```bash
systemctl is-active neo4j redis-server kg-api nginx
```

æ‰€æœ‰ç«¯å£åº”è¯¥åœ¨ç›‘å¬:
```bash
netstat -tlnp | grep -E '80|5173|8000|7474|6379'
```

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

```bash
# æµ‹è¯•æ‰€æœ‰æœåŠ¡
curl -s http://localhost:5173/ | head -1
curl -s http://localhost:8000/health | python3 -m json.tool
curl -s http://localhost:7474/ | head -1
curl -s http://localhost/ | head -1
```

## ğŸ”„ å®Œæ•´é‡å¯

```bash
# åœæ­¢æ‰€æœ‰æœåŠ¡
systemctl stop kg-api
pkill -f 'vite.*5173'
systemctl stop neo4j
systemctl stop redis-server

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
systemctl start redis-server
systemctl start neo4j
sleep 5
systemctl start kg-api
cd /opt/knowledge-graph/apps/web && nohup npm run dev > /var/log/kg-frontend.log 2>&1 &
```

## ğŸ“ é—®é¢˜æ’æŸ¥

### APIæ— æ³•å¯åŠ¨
```bash
journalctl -u kg-api -n 100 --no-pager
cat /var/log/kg-api-error.log
```

### Neo4jæ— æ³•è¿æ¥
```bash
systemctl status neo4j
tail -f /var/log/neo4j/neo4j.log
```

### å‰ç«¯æ— æ³•è®¿é—®
```bash
ps aux | grep vite
tail -f /var/log/kg-frontend.log
```

## ğŸ‰ éƒ¨ç½²æˆåŠŸæ ‡å¿—

âœ… æ‰€æœ‰æœåŠ¡çŠ¶æ€ä¸º `active`  
âœ… APIå¥åº·æ£€æŸ¥è¿”å› `healthy`  
âœ… å‰ç«¯é¡µé¢å¯ä»¥æ­£å¸¸è®¿é—®  
âœ… Neo4jæµè§ˆå™¨å¯ä»¥ç™»å½•  
âœ… ä¸æœ¬åœ°ç¯å¢ƒåŠŸèƒ½ä¸€è‡´

